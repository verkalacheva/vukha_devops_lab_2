КРАТКИЙ ПЛАН:
1. ЧТО ТАКОЕ ДОКЕР, ДОКЕРФАЙЛ
2. КАКОЙ У НАС ДОКЕРФАЙЛ И КАК МЫ ЕГО ИСПОРТИЛИ(BAD PRACTICES - GOOD PRACTICEs)
3. СРАВНЕНИЕ РЕЗУЛЬТАТОВ РАБОТЫ ПЛОХОГО И ХОРОШЕГО ФАЙЛОВ(ВРЕМЯ - разница в 1,5 раза, ПАМЯТЬ - размер образов одинаков, КЭШ - ну хз)
4. ПЛОХИЕ ПРАКТИКИ ПО ИСПОЛЬЗОВАНИЮ КОНТЕЙНЕРОВ

# Лабораторная 2

## Задание:
Написать два Dockerfile – плохой и хороший. Плохой должен запускаться и работать корректно, но в нём должно быть не менее 3 “bad practices”. В хорошем Dockerfile они должны быть исправлены. В Readme описать все плохие практики из кода Dockerfile и почему они плохие, как они были исправлены в хорошем  Dockerfile, а также две плохие практики по использованию этого контейнера
## Выполнение работы:

### 1. Теория. Docker и Dockerfile
Docker — это платформа, которая позволяет упаковать в контейнер приложение со всем окружением и зависимостями, а затем доставить и запустить его в целевой системе.

Контейнер Docker – это среда выполнения со всеми необходимыми компонентами, такими как код, зависимости и библиотеки, которые необходимы для запуска кода приложения без использования зависимостей хост-машины.

Образ Docker или образ контейнера – это отдельный исполняемый файл, используемый для создания контейнера. 

Dockerfile - набор инструкций и команд, которые будут автоматически выполнены для создания нового образа.

Проще говоря, докерфайл это рецепт, по которому будет собираться образ. На примере создания образа игры MegaMario 1.7, мы внедрим определенные bad practices в Dockerfile и сравним сборку обычного и испорченного файлов.


### 2. Внедрение bad practices
- **Bad practice 1. Разделение команд RUN**
<image src="/images/bad_practice1(run).png" alt="">
<image src="/images/good_practice1(run).png" alt="">

- **Bad practice 2. Отсутствие команды rm**
<image src="/images/good_practice2(remove).png" alt="">

- **Bad practice 3. Распаковка архива внутри докерфайла**
<image src="/images/bad_practice3(unzip).png" alt="">

### 3. Сравнение времени сборки двух докерфайлов
Сравним время сборки образов.
Для измерения времени используем команду time.
```
time docker build -t mymario_image .
```
- **Время сборки плохого файла**
<image src="/images/bad_result.png" alt="Время сборки плохого файла">

- **Время сборки нормального файла**
<image src="/images/good_result.png" alt="Время сборки нормального файла">

Получили время сборки нормального файла - 2 минуты 5 секунд, плохого - 3 минуты, что дает нам разницу в 1.5 раза. Данное отличие несуществено, если нас интересует загрузка только одной игры, но в большой кампании, когда в день необходимо собрать несколько сотен образов, такая разница в скорости имеет большое значение.

### 4. Плохие практики по по использованию контейнера
